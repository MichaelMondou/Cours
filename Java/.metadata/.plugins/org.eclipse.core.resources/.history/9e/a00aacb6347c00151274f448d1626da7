package mvc;

import java.awt.BorderLayout;
import java.awt.Point;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JDesktopPane;
import javax.swing.JFrame;
import javax.swing.JInternalFrame;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.UIManager;

public class Main {
	 
	 public static void main(String[] args){

	  JFrame f = new JFrame();
	  f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	  f.setSize(600, 600);
	  f.setLocationRelativeTo(null);
	  
	  final JDesktopPane desktop = new JDesktopPane();
	  f.add(desktop, BorderLayout.CENTER);
	  
	  JMenuBar menu = new JMenuBar();
	  JMenu fichier = new JMenu("Fichier");
	  JMenuItem nouveau = new JMenuItem("Nouveau");
	  fichier.add(nouveau);
	  f.add(menu, BorderLayout.NORTH);
	  menu.add(fichier);
	  nouveau.addActionListener(new ActionListener() {
	   
	   @Override
	   public void actionPerformed(ActionEvent e) {
	    JInternalFrame jif = new JInternalFrame();
	    jif.setTitle("Titre");
	    jif.setClosable(true);
	    jif.setResizable(true);
	    jif.setMaximizable(true);
	    jif.setIconifiable(true);
	    jif.toFront();
	    jif.setSize(200, 200);
	    desktop.add(jif);
	    jif.setVisible(true);
	    jif.setLocation(new Point(15*frameCountY+100*frameCountX, 15*frameCountY));
	    if(frameCountY++>8){
	     frameCountY=1;
	     if(frameCountX++>4){
	      frameCountY=1;
	      frameCountX=1;
	     }
	    }
	    
	   }
	  });
	  f.setVisible(true);
	 }
	
}
